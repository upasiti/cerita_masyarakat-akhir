import API from"../data/api.js";import SessionManager from"../utils/session-manager.js";import StoryDB from"../data/story-db.js";export default class StoryModel{async getStories(){const t=SessionManager.getToken();return t?await API.getStories(t):[]}async addStory(t){const e=SessionManager.getAuthHeader(),a=await fetch("https://story-api.dicoding.dev/v1/stories",{method:"POST",headers:{Authorization:e},body:t});return await a.json()}saveFavorite(t){const e=JSON.parse(localStorage.getItem("favorites"))||[];e.some((e=>e.id===t.id))||(e.push(t),localStorage.setItem("favorites",JSON.stringify(e)))}async getFavorites(){return await StoryDB.getAllStories()}async deleteFavorite(t){await StoryDB.deleteStory(t)}}