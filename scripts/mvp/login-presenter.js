import AuthModel from"../model/auth-model.js";import SessionManager from"../utils/session-manager.js";export default class LoginPresenter{constructor(e){this.view=e}async login({email:e,password:s}){if(e&&s){this.view.showMessage("Memproses login...");try{const i=await AuthModel.login({email:e,password:s});if(console.log("Hasil dari AuthModel.login():",i),!i||!i.token)throw new Error("Token tidak ditemukan di respons API");SessionManager.saveSession(i),this.view.showMessage("Login berhasil! Mengalihkan..."),setTimeout((()=>this.view.redirectToHome()),1500)}catch(e){console.error("Login error:",e),this.view.showMessage(`Login gagal: ${e.message}`,!0)}}else this.view.showMessage("Email dan kata sandi wajib diisi.",!0)}}